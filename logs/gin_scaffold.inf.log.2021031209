[INFO][2021-03-12T09:00:49.370][log.go:58] _com_request_in||uri=/service/service_add_http||method=POST||spanid=6a0fb89d380704bb||args=map[]||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"as\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"123123\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||traceid=0a4505dc604abd4114884d2b104dc7b0||cspanid=
[INFO][2021-03-12T09:00:49.370][log.go:58] _com_request_out||traceid=0a4505dc604abd4114884d2b104dc7b0||uri=/service/service_add_http||method=POST||response={\"errno\":2000,\"errmsg\":\"ip列表 不符合输入格式,权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a4505dc604abd4114884d2b104dc7b0\",\"stack\":\"github.com/e421083458/gin_scaffold/public.DefaultGetValidParams\\n\\t/Users/coderth/go/src/go_mirco_gateway/public/params.go:32\\ngithub.com/e421083458/gin_scaffold/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/coderth/go/src/go_mirco_gateway/dto/service.go:68\\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:161\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:158\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/asm_amd64.s:1374\"}||proc_time=0.002180188||cspanid=||spanid=6a0fb89d380704bb||args=map[]||from=127.0.0.1
[INFO][2021-03-12T09:01:53.811][log.go:58] _com_request_in||args=map[]||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"as\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"123123\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"string\",\n  \"white_list\": \"string\"\n}||traceid=0a4505dc604abd81d7f04d5d104dc7b0||method=POST||from=127.0.0.1||cspanid=||spanid=6a0fb85d380704bb||uri=/service/service_add_http
[INFO][2021-03-12T09:01:53.811][log.go:58] _com_request_out||from=127.0.0.1||response={\"errno\":2000,\"errmsg\":\"ip列表 不符合输入格式,权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a4505dc604abd81d7f04d5d104dc7b0\",\"stack\":\"github.com/e421083458/gin_scaffold/public.DefaultGetValidParams\\n\\t/Users/coderth/go/src/go_mirco_gateway/public/params.go:32\\ngithub.com/e421083458/gin_scaffold/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/coderth/go/src/go_mirco_gateway/dto/service.go:68\\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:161\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:158\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/asm_amd64.s:1374\"}||traceid=0a4505dc604abd81d7f04d5d104dc7b0||cspanid=||uri=/service/service_add_http||method=POST||args=map[]||proc_time=0.002608207||spanid=6a0fb85d380704bb
[INFO][2021-03-12T09:04:44.643][log.go:58] _com_request_in||args=map[]||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"as\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"123123\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"string\",\n  \"white_list\": \"string\"\n}||cspanid=||uri=/service/service_add_http||method=POST||from=127.0.0.1||traceid=0a4505dc604abe2c96284dc9104dc7b0||spanid=6a0fbbf0380704bb
[INFO][2021-03-12T09:04:44.643][log.go:58] _com_request_out||method=POST||args=map[]||from=127.0.0.1||response={\"errno\":2000,\"errmsg\":\"权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a4505dc604abe2c96284dc9104dc7b0\",\"stack\":\"github.com/e421083458/gin_scaffold/public.DefaultGetValidParams\\n\\t/Users/coderth/go/src/go_mirco_gateway/public/params.go:32\\ngithub.com/e421083458/gin_scaffold/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/coderth/go/src/go_mirco_gateway/dto/service.go:68\\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:161\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:156\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/asm_amd64.s:1374\"}||traceid=0a4505dc604abe2c96284dc9104dc7b0||cspanid=||spanid=6a0fbbf0380704bb||uri=/service/service_add_http||proc_time=0.002272825
[INFO][2021-03-12T09:05:05.710][log.go:58] _com_request_in||args=map[]||spanid=6a0fbb9d57e9d186||uri=/service/service_add_http||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"as\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"123123\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||traceid=0a4505dc604abe418eb04dc95a8581b0||cspanid=
[INFO][2021-03-12T09:05:05.710][log.go:58] _com_request_out||args=map[]||from=127.0.0.1||response={\"errno\":2001,\"errmsg\":\"get pool error\",\"data\":\"\",\"trace_id\":\"0a4505dc604abe418eb04dc95a8581b0\",\"stack\":\"get pool error\"}||proc_time=0.001030858||cspanid=||uri=/service/service_add_http||traceid=0a4505dc604abe418eb04dc95a8581b0||spanid=6a0fbb9d57e9d186||method=POST
[INFO][2021-03-12T09:06:13.415][log.go:58] _com_request_in||method=GET||from=127.0.0.1||spanid=6a0fbb591408d2ac||uri=/service/service_list?page_size=12&page_no=1||args=map[]||body=||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=
[INFO][2021-03-12T09:06:13.415][log.go:58] _com_mysql_success||cspanid=||spanid=6a0fbb591408d2ac||affected_row=5||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:38||current_time=2021-03-12 09:06:13||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 12 OFFSET 0||traceid=0a4505dc604abe851ce04dc966cb39b0||level=sql
[INFO][2021-03-12T09:06:13.415][log.go:58] _com_mysql_success||cspanid=||spanid=6a0fbb591408d2ac||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:41||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 12 OFFSET 0||level=sql||current_time=2021-03-12 09:06:13||affected_row=5||traceid=0a4505dc604abe851ce04dc966cb39b0
[INFO][2021-03-12T09:06:13.415][log.go:58] _com_mysql_success||sql=SELECT count(*) FROM `gateway_service_info`  WHERE (is_delete=0) LIMIT 12 OFFSET 0||affected_row=0||spanid=6a0fbb591408d2ac||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:41||current_time=2021-03-12 09:06:13||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||level=sql||proc_time=0.000000000
[INFO][2021-03-12T09:06:13.415][log.go:58] _com_mysql_success||spanid=6a0fbb591408d2ac||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||current_time=2021-03-12 09:06:13||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '60')||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||level=sql||proc_time=0.000000000||affected_row=1
[INFO][2021-03-12T09:06:13.415][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_tcp_rule.go:21||affected_row=0||traceid=0a4505dc604abe851ce04dc966cb39b0||spanid=6a0fbb591408d2ac||level=sql||current_time=2021-03-12 09:06:13||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '60')||cspanid=
[INFO][2021-03-12T09:06:13.415][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_grpc_rule.go:22||current_time=2021-03-12 09:06:13||affected_row=0||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '60')||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||spanid=6a0fbb591408d2ac
[INFO][2021-03-12T09:06:13.415][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:26||affected_row=1||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '60')||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||spanid=6a0fbb591408d2ac||level=sql||current_time=2021-03-12 09:06:13||proc_time=0.000000000
[INFO][2021-03-12T09:06:13.415][log.go:58] _com_mysql_success||current_time=2021-03-12 09:06:13||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '60')||affected_row=1||spanid=6a0fbb591408d2ac||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:34||proc_time=0.000000000||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||level=sql
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||current_time=2021-03-12 09:06:14||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '59')||proc_time=0.000000000||affected_row=1||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||spanid=6a0fbb591408d2ac
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||current_time=2021-03-12 09:06:14||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '59')||affected_row=0||cspanid=||spanid=6a0fbb591408d2ac||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_tcp_rule.go:21||proc_time=0.000000000||traceid=0a4505dc604abe851ce04dc966cb39b0||level=sql
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_grpc_rule.go:22||proc_time=0.000000000||current_time=2021-03-12 09:06:14||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '59')||affected_row=0||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||spanid=6a0fbb591408d2ac
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '59')||affected_row=1||cspanid=||spanid=6a0fbb591408d2ac||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:26||current_time=2021-03-12 09:06:14||traceid=0a4505dc604abe851ce04dc966cb39b0||level=sql||proc_time=0.000000000
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||traceid=0a4505dc604abe851ce04dc966cb39b0||spanid=6a0fbb591408d2ac||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:34||current_time=2021-03-12 09:06:14||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '59')||affected_row=1||cspanid=||level=sql
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||cspanid=||spanid=6a0fbb591408d2ac||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '58')||affected_row=0||traceid=0a4505dc604abe851ce04dc966cb39b0||level=sql||current_time=2021-03-12 09:06:14||proc_time=0.000000000
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||current_time=2021-03-12 09:06:14||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '58')||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||spanid=6a0fbb591408d2ac||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_tcp_rule.go:21||proc_time=0.000000000||affected_row=0
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||current_time=2021-03-12 09:06:14||proc_time=0.000000000||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||level=sql||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '58')||affected_row=1||spanid=6a0fbb591408d2ac||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_grpc_rule.go:22
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:26||current_time=2021-03-12 09:06:14||traceid=0a4505dc604abe851ce04dc966cb39b0||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '58')||affected_row=1||cspanid=||spanid=6a0fbb591408d2ac
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||level=sql||current_time=2021-03-12 09:06:14||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '58')||affected_row=1||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:34||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||spanid=6a0fbb591408d2ac
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '57')||affected_row=0||cspanid=||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||current_time=2021-03-12 09:06:14||traceid=0a4505dc604abe851ce04dc966cb39b0||spanid=6a0fbb591408d2ac||level=sql
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_tcp_rule.go:21||proc_time=0.000000000||current_time=2021-03-12 09:06:14||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '57')||affected_row=1||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||spanid=6a0fbb591408d2ac
[INFO][2021-03-12T09:06:14.022][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '57')||affected_row=0||traceid=0a4505dc604abe851ce04dc966cb39b0||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_grpc_rule.go:22||current_time=2021-03-12 09:06:14||cspanid=||spanid=6a0fbb591408d2ac
[INFO][2021-03-12T09:06:15.070][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '57')||affected_row=1||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:26||current_time=2021-03-12 09:06:15||proc_time=0.000000000||spanid=6a0fbb591408d2ac
[INFO][2021-03-12T09:06:15.070][log.go:58] _com_mysql_success||level=sql||current_time=2021-03-12 09:06:15||cspanid=||affected_row=1||traceid=0a4505dc604abe851ce04dc966cb39b0||spanid=6a0fbb591408d2ac||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:34||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '57')
[INFO][2021-03-12T09:06:15.070][log.go:58] _com_mysql_success||current_time=2021-03-12 09:06:15||proc_time=0.000000000||affected_row=1||spanid=6a0fbb591408d2ac||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '56')||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=
[INFO][2021-03-12T09:06:15.070][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_tcp_rule.go:21||affected_row=0||cspanid=||spanid=6a0fbb591408d2ac||current_time=2021-03-12 09:06:15||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '56')||traceid=0a4505dc604abe851ce04dc966cb39b0
[INFO][2021-03-12T09:06:15.070][log.go:58] _com_mysql_success||cspanid=||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '56')||affected_row=0||traceid=0a4505dc604abe851ce04dc966cb39b0||spanid=6a0fbb591408d2ac||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_grpc_rule.go:22||current_time=2021-03-12 09:06:15||proc_time=0.000000000
[INFO][2021-03-12T09:06:15.070][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '56')||current_time=2021-03-12 09:06:15||affected_row=1||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||spanid=6a0fbb591408d2ac||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:26
[INFO][2021-03-12T09:06:15.070][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:34||proc_time=0.000000000||cspanid=||spanid=6a0fbb591408d2ac||level=sql||current_time=2021-03-12 09:06:15||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '56')||affected_row=1||traceid=0a4505dc604abe851ce04dc966cb39b0
[INFO][2021-03-12T09:06:15.070][log.go:58] _com_request_out||from=127.0.0.1||traceid=0a4505dc604abe851ce04dc966cb39b0||cspanid=||args=map[]||method=GET||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":5,\"list\":[{\"id\":60,\"service_name\":\"test_strip_uri\",\"service_desc\":\"测试路径接入\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_strip_uri\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"127.0.0.1:4880/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2}]},\"trace_id\":\"0a4505dc604abe851ce04dc966cb39b0\",\"stack\":null}||proc_time=2.139704007||spanid=6a0fbb591408d2ac||uri=/service/service_list?page_size=12&page_no=1
[INFO][2021-03-12T09:06:51.452][log.go:58] _com_request_in||uri=/service/service_add_http||method=POST||args=map[]||spanid=6a0fbb7736d467a4||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_strip_uri\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"123123\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||traceid=0a4505dc604abeab90c84dc96a156ab0||cspanid=
[INFO][2021-03-12T09:06:51.452][log.go:58] _com_request_out||proc_time=0.000867324||spanid=6a0fbb7736d467a4||uri=/service/service_add_http||method=POST||from=127.0.0.1||traceid=0a4505dc604abeab90c84dc96a156ab0||cspanid=||args=map[]||response={\"errno\":2001,\"errmsg\":\"get pool error\",\"data\":\"\",\"trace_id\":\"0a4505dc604abeab90c84dc96a156ab0\",\"stack\":\"get pool error\"}
[INFO][2021-03-12T09:07:46.941][log.go:58] _com_request_in||args=map[]||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_strip_uri\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"123123\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||traceid=0a4505dc604abee2e1784e21104dc7b0||uri=/service/service_add_http||method=POST||from=127.0.0.1||cspanid=||spanid=6a0fbb3e380704bb
[INFO][2021-03-12T09:07:47.024][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = '123123')||affected_row=0||cspanid=||current_time=2021-03-12 09:07:47||proc_time=0.000000000||traceid=0a4505dc604abee2e1784e21104dc7b0||spanid=6a0fbb3e380704bb
[INFO][2021-03-12T09:07:47.024][log.go:58] _com_mysql_success||affected_row=1||traceid=0a4505dc604abee2e1784e21104dc7b0||spanid=6a0fbb3e380704bb||current_time=2021-03-12 09:07:47||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_strip_uri')||cspanid=||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27
[INFO][2021-03-12T09:07:47.024][log.go:58] _com_request_out||spanid=6a0fbb3e380704bb||uri=/service/service_add_http||response={\"errno\":2003,\"errmsg\":\"服务接入前缀或域名已存在\",\"data\":\"\",\"trace_id\":\"0a4505dc604abee2e1784e21104dc7b0\",\"stack\":\"服务接入前缀或域名已存在\"}||proc_time=0.164672066||traceid=0a4505dc604abee2e1784e21104dc7b0||cspanid=||method=POST||args=map[]||from=127.0.0.1
[INFO][2021-03-12T09:24:54.553][log.go:58] _com_request_in||args=map[]||from=127.0.0.1||traceid=0a4505dc604ac2e625d84fa4104dc7b0||uri=/service/service_add_http||method=POST||spanid=6a0fc73a380704bb||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_serive_indb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||cspanid=
[INFO][2021-03-12T09:24:54.553][log.go:58] _com_request_out||args=map[]||response={\"errno\":2000,\"errmsg\":\"服务名称 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a4505dc604ac2e625d84fa4104dc7b0\",\"stack\":\"github.com/e421083458/gin_scaffold/public.DefaultGetValidParams\\n\\t/Users/coderth/go/src/go_mirco_gateway/public/params.go:32\\ngithub.com/e421083458/gin_scaffold/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/coderth/go/src/go_mirco_gateway/dto/service.go:68\\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:161\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:156\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/asm_amd64.s:1374\"}||proc_time=0.001487371||traceid=0a4505dc604ac2e625d84fa4104dc7b0||spanid=6a0fc73a380704bb||method=POST||from=127.0.0.1||cspanid=||uri=/service/service_add_http
[INFO][2021-03-12T09:25:42.291][log.go:58] _com_request_in||spanid=6a0fc6ca57e9d186||uri=/service/service_add_http||method=POST||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"serive_indb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||traceid=0a4505dc604ac31608804fa45a8581b0||from=127.0.0.1||cspanid=
[INFO][2021-03-12T09:25:42.291][log.go:58] _com_request_out||uri=/service/service_add_http||method=POST||spanid=6a0fc6ca57e9d186||args=map[]||from=127.0.0.1||response={\"errno\":2000,\"errmsg\":\"服务名称 不符合输入格式\",\"data\":\"\",\"trace_id\":\"0a4505dc604ac31608804fa45a8581b0\",\"stack\":\"github.com/e421083458/gin_scaffold/public.DefaultGetValidParams\\n\\t/Users/coderth/go/src/go_mirco_gateway/public/params.go:32\\ngithub.com/e421083458/gin_scaffold/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/coderth/go/src/go_mirco_gateway/dto/service.go:68\\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:161\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:156\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1\\n\\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/asm_amd64.s:1374\"}||proc_time=0.001024436||traceid=0a4505dc604ac31608804fa45a8581b0||cspanid=
[INFO][2021-03-12T09:25:50.043][log.go:58] _com_request_in||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"seriveindb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||spanid=6a0fc6c21408d2ac||uri=/service/service_add_http||method=POST||args=map[]||from=127.0.0.1||traceid=0a4505dc604ac31e82404fa466cb39b0||cspanid=
[INFO][2021-03-12T09:25:50.043][log.go:58] _com_mysql_success||level=sql||current_time=2021-03-12 09:25:50||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'seriveindb')||traceid=0a4505dc604ac31e82404fa466cb39b0||cspanid=||spanid=6a0fc6c21408d2ac||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89||proc_time=0.000000000||affected_row=0
[INFO][2021-03-12T09:25:50.043][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_serive_indb')||current_time=2021-03-12 09:25:50||proc_time=0.000000000||affected_row=0||traceid=0a4505dc604ac31e82404fa466cb39b0||cspanid=||spanid=6a0fc6c21408d2ac
[INFO][2021-03-12T09:25:50.043][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:97||proc_time=0.000000000||cspanid=||level=sql||current_time=2021-03-12 09:25:50||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','seriveindb','test_serive_indb','2021-03-12 09:25:50','2021-03-12 09:25:50','0')||affected_row=1||traceid=0a4505dc604ac31e82404fa466cb39b0||spanid=6a0fc6c21408d2ac
[INFO][2021-03-12T09:25:50.043][log.go:58] _com_request_out||from=127.0.0.1||traceid=0a4505dc604ac31e82404fa466cb39b0||cspanid=||uri=/service/service_add_http||args=map[]||response=<nil>||proc_time=0.562621913||spanid=6a0fc6c21408d2ac||method=POST
[INFO][2021-03-12T09:25:50.043][log.go:58] _com_panic||traceid=0a4505dc604ac31e82404fa466cb39b0||cspanid=||spanid=6a0fc6c21408d2ac||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 48 [running]:\nruntime/debug.Stack(0x1847b60, 0xc001185150, 0x192a2e1)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1.1(0xc0002042c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:21 +0x214\npanic(0x184de60, 0x2752a00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/panic.go:969 +0x175\ngithub.com/e421083458/gin_scaffold/middleware.ResponseError(0xc0002042c0, 0x7d5, 0x0, 0x0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/response.go:44 +0x17c\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP(0x279ada0, 0xc0002042c0)\n\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:199 +0x73e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1(0xc0002042c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:156 +0x671\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1(0xc0002042c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18 +0x147\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1(0xc0002042c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1(0xc0002042c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33 +0x4e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1b3\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x65\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000144000, 0xc0002042c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5c5\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000144000, 0x1a39700, 0xc000258380, 0xc0001e4100)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x133\nnet/http.serverHandler.ServeHTTP(0xc000258000, 0x1a39700, 0xc000258380, 0xc0001e4100)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc0003ea960, 0x1a3bfc0, 0xc00016c000)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2969 +0x36c\n
[INFO][2021-03-12T09:35:49.191][log.go:58] _com_request_in||spanid=6a0fc0a9380704bb||uri=/service/service_add_http||method=POST||from=127.0.0.1||traceid=0a4505dc604ac575703850c9104dc7b0||cspanid=||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"seriveindb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}
[INFO][2021-03-12T09:35:49.191][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89||current_time=2021-03-12 09:35:49||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'seriveindb')||spanid=6a0fc0a9380704bb||level=sql||traceid=0a4505dc604ac575703850c9104dc7b0||cspanid=||affected_row=0
[INFO][2021-03-12T09:35:49.191][log.go:58] _com_mysql_success||affected_row=0||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_serive_indb')||current_time=2021-03-12 09:35:49||traceid=0a4505dc604ac575703850c9104dc7b0||cspanid=||spanid=6a0fc0a9380704bb||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27
[INFO][2021-03-12T09:35:49.191][log.go:58] _com_mysql_success||spanid=6a0fc0a9380704bb||current_time=2021-03-12 09:35:49||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','seriveindb','test_serive_indb','2021-03-12 09:35:49','2021-03-12 09:35:49','0')||traceid=0a4505dc604ac575703850c9104dc7b0||cspanid=||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:97||proc_time=0.000000000||affected_row=1
[INFO][2021-03-12T09:35:49.191][log.go:58] _com_request_out||method=POST||from=127.0.0.1||response=<nil>||spanid=6a0fc0a9380704bb||uri=/service/service_add_http||args=map[]||proc_time=0.281734587||traceid=0a4505dc604ac575703850c9104dc7b0||cspanid=
[INFO][2021-03-12T09:35:49.191][log.go:58] _com_panic||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 27 [running]:\nruntime/debug.Stack(0x1847b60, 0xc001105150, 0x192a2e1)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1.1(0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:21 +0x214\npanic(0x184de60, 0x2752a00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/panic.go:969 +0x175\ngithub.com/e421083458/gin_scaffold/middleware.ResponseError(0xc0001e82c0, 0x7d5, 0x0, 0x0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/response.go:44 +0x17c\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP(0x279ada0, 0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:199 +0x73e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1(0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:157 +0x671\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1(0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18 +0x147\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1(0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1(0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33 +0x4e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1b3\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x65\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000128000, 0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5c5\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000128000, 0x1a39700, 0xc0005501c0, 0xc0001c6200)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x133\nnet/http.serverHandler.ServeHTTP(0xc0000dc000, 0x1a39700, 0xc0005501c0, 0xc0001c6200)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc00011a460, 0x1a3bfc0, 0xc00029d600)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2969 +0x36c\n||traceid=0a4505dc604ac575703850c9104dc7b0||cspanid=||spanid=6a0fc0a9380704bb
[INFO][2021-03-12T09:36:14.064][log.go:58] _com_request_in||uri=/service/service_add_http||args=map[]||from=127.0.0.1||traceid=0a4505dc604ac58e6ac050c9f27cc6b0||spanid=6a0fc05268255aaf||method=POST||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"seriveindb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||cspanid=
[INFO][2021-03-12T09:36:14.064][log.go:58] _com_mysql_success||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'seriveindb')||traceid=0a4505dc604ac58e6ac050c9f27cc6b0||cspanid=||spanid=6a0fc05268255aaf||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89||current_time=2021-03-12 09:36:14||affected_row=0
[INFO][2021-03-12T09:36:14.064][log.go:58] _com_mysql_success||current_time=2021-03-12 09:36:14||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_serive_indb')||affected_row=0||traceid=0a4505dc604ac58e6ac050c9f27cc6b0||cspanid=||spanid=6a0fc05268255aaf||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||proc_time=0.000000000
[INFO][2021-03-12T09:36:14.064][log.go:58] _com_mysql_success||proc_time=0.000000000||traceid=0a4505dc604ac58e6ac050c9f27cc6b0||cspanid=||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:97||current_time=2021-03-12 09:36:14||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','seriveindb','test_serive_indb','2021-03-12 09:36:14','2021-03-12 09:36:14','0')||affected_row=1||spanid=6a0fc05268255aaf
[INFO][2021-03-12T09:36:14.064][log.go:58] _com_request_out||response=<nil>||proc_time=0.281475192||cspanid=||method=POST||from=127.0.0.1||traceid=0a4505dc604ac58e6ac050c9f27cc6b0||spanid=6a0fc05268255aaf||uri=/service/service_add_http||args=map[]
[INFO][2021-03-12T09:36:14.064][log.go:58] _com_panic||traceid=0a4505dc604ac58e6ac050c9f27cc6b0||cspanid=||spanid=6a0fc05268255aaf||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 66 [running]:\nruntime/debug.Stack(0x1847b60, 0xc001105150, 0x192a2e1)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1.1(0xc000312160)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:21 +0x214\npanic(0x184de60, 0x2752a00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/panic.go:969 +0x175\ngithub.com/e421083458/gin_scaffold/middleware.ResponseError(0xc000312160, 0x7d5, 0x0, 0x0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/response.go:44 +0x17c\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP(0x279ada0, 0xc000312160)\n\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:199 +0x73e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1(0xc000312160)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:157 +0x671\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1(0xc000312160)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18 +0x147\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1(0xc000312160)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1(0xc000312160)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33 +0x4e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1b3\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x65\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000128000, 0xc000312160)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5c5\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000128000, 0x1a39700, 0xc0005b60e0, 0xc0005b4000)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x133\nnet/http.serverHandler.ServeHTTP(0xc0000dc000, 0x1a39700, 0xc0005b60e0, 0xc0005b4000)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc000142000, 0x1a3bfc0, 0xc0005ae040)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2969 +0x36c\n
[INFO][2021-03-12T09:36:58.122][log.go:58] _com_request_in||uri=/service/service_add_http||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"seriveindb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||traceid=0a4505dc604ac5ba4eb05101104dc7b0||cspanid=||method=POST||from=127.0.0.1||spanid=6a0fc066380704bb
[INFO][2021-03-12T09:36:58.122][log.go:58] _com_mysql_success||current_time=2021-03-12 09:36:58||traceid=0a4505dc604ac5ba4eb05101104dc7b0||spanid=6a0fc066380704bb||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'seriveindb')||affected_row=0||cspanid=||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89||proc_time=0.000000000
[INFO][2021-03-12T09:36:58.122][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||current_time=2021-03-12 09:36:58||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_serive_indb')||affected_row=0||traceid=0a4505dc604ac5ba4eb05101104dc7b0||cspanid=||spanid=6a0fc066380704bb
[INFO][2021-03-12T09:36:58.122][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:97||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','seriveindb','test_serive_indb','2021-03-12 09:36:58','2021-03-12 09:36:58','0')||traceid=0a4505dc604ac5ba4eb05101104dc7b0||level=sql||proc_time=0.000000000||affected_row=1||cspanid=||spanid=6a0fc066380704bb||current_time=2021-03-12 09:36:58
[INFO][2021-03-12T09:36:58.122][log.go:58] _com_request_out||cspanid=||uri=/service/service_add_http||args=map[]||from=127.0.0.1||proc_time=0.281975301||method=POST||response=<nil>||traceid=0a4505dc604ac5ba4eb05101104dc7b0||spanid=6a0fc066380704bb
[INFO][2021-03-12T09:36:58.122][log.go:58] _com_panic||cspanid=||spanid=6a0fc066380704bb||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 24 [running]:\nruntime/debug.Stack(0x1847ba0, 0xc001125150, 0x192a321)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1.1(0xc00018a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:21 +0x214\npanic(0x184dea0, 0x2752a00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/panic.go:969 +0x175\ngithub.com/e421083458/gin_scaffold/middleware.ResponseError(0xc00018a2c0, 0x7d5, 0x0, 0x0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/response.go:44 +0x17c\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP(0x279ada0, 0xc00018a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:199 +0x73e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1(0xc00018a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:161 +0x671\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1(0xc00018a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18 +0x147\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1(0xc00018a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1(0xc00018a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33 +0x4e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1b3\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x65\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000cc000, 0xc00018a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5c5\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000cc000, 0x1a39760, 0xc0002781c0, 0xc00016c000)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x133\nnet/http.serverHandler.ServeHTTP(0xc000278000, 0x1a39760, 0xc0002781c0, 0xc00016c000)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc0000bc1e0, 0x1a3c020, 0xc0004ca800)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2969 +0x36c\n||traceid=0a4505dc604ac5ba4eb05101104dc7b0
[INFO][2021-03-12T09:38:17.591][log.go:58] _com_request_in||uri=/service/service_add_http||method=POST||traceid=0a4505dc604ac609c7405139104dc7b0||cspanid=||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"seriveindb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||spanid=6a0fc3d5380704bb
[INFO][2021-03-12T09:38:17.591][log.go:58] _com_mysql_success||cspanid=||spanid=6a0fc3d5380704bb||affected_row=0||traceid=0a4505dc604ac609c7405139104dc7b0||current_time=2021-03-12 09:38:17||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'seriveindb')||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89
[INFO][2021-03-12T09:38:17.591][log.go:58] _com_mysql_success||proc_time=0.000000000||affected_row=0||traceid=0a4505dc604ac609c7405139104dc7b0||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||cspanid=||spanid=6a0fc3d5380704bb||current_time=2021-03-12 09:38:17||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_serive_indb')
[INFO][2021-03-12T09:38:17.591][log.go:58] _com_mysql_success||current_time=2021-03-12 09:38:17||proc_time=0.000000000||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','seriveindb','test_serive_indb','2021-03-12 09:38:17','2021-03-12 09:38:17','0')||affected_row=1||traceid=0a4505dc604ac609c7405139104dc7b0||spanid=6a0fc3d5380704bb||level=sql||cspanid=||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:97
[INFO][2021-03-12T09:38:17.591][log.go:58] _com_request_out||proc_time=0.298421909||spanid=6a0fc3d5380704bb||traceid=0a4505dc604ac609c7405139104dc7b0||cspanid=||uri=/service/service_add_http||method=POST||args=map[]||from=127.0.0.1||response=<nil>
[INFO][2021-03-12T09:38:17.591][log.go:58] _com_panic||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 50 [running]:\nruntime/debug.Stack(0x1847c20, 0xc001127138, 0x192a3a1)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1.1(0xc00020a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:21 +0x214\npanic(0x184df20, 0x2752a00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/panic.go:969 +0x175\ngithub.com/e421083458/gin_scaffold/middleware.ResponseError(0xc00020a2c0, 0x7d5, 0x0, 0x0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/response.go:44 +0x17c\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP(0x279ada0, 0xc00020a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:200 +0x7d8\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1(0xc00020a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:157 +0x671\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1(0xc00020a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18 +0x147\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1(0xc00020a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1(0xc00020a2c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33 +0x4e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1b3\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x65\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000cc000, 0xc00020a2c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5c5\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000cc000, 0x1a39800, 0xc0006120e0, 0xc0001ec000)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x133\nnet/http.serverHandler.ServeHTTP(0xc000264000, 0x1a39800, 0xc0006120e0, 0xc0001ec000)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc0000bc0a0, 0x1a3c0c0, 0xc0001f4000)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2969 +0x36c\n||traceid=0a4505dc604ac609c7405139104dc7b0||cspanid=||spanid=6a0fc3d5380704bb
[INFO][2021-03-12T09:48:32.181][log.go:58] _com_request_in||method=POST||args=map[]||cspanid=||uri=/service/service_add_http||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"seriveindb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||traceid=0a4505dc604ac870f4f85225104dc7b0||spanid=6a0fcdac380704bb
[INFO][2021-03-12T09:48:32.181][log.go:58] _com_mysql_success||spanid=6a0fcdac380704bb||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'seriveindb')||traceid=0a4505dc604ac870f4f85225104dc7b0||cspanid=||current_time=2021-03-12 09:48:32||proc_time=0.000000000||affected_row=0
[INFO][2021-03-12T09:48:32.181][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||proc_time=0.000000000||cspanid=||spanid=6a0fcdac380704bb||level=sql||current_time=2021-03-12 09:48:32||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_serive_indb')||affected_row=0||traceid=0a4505dc604ac870f4f85225104dc7b0
[INFO][2021-03-12T09:48:32.181][log.go:58] _com_mysql_success||current_time=2021-03-12 09:48:32||proc_time=0.000000000||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','seriveindb','test_serive_indb','2021-03-12 09:48:32','2021-03-12 09:48:32','0')||affected_row=1||traceid=0a4505dc604ac870f4f85225104dc7b0||spanid=6a0fcdac380704bb||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:97||cspanid=
[INFO][2021-03-12T09:48:32.181][log.go:58] _com_request_out||from=127.0.0.1||proc_time=0.278045258||cspanid=||uri=/service/service_add_http||method=POST||args=map[]||response=<nil>||traceid=0a4505dc604ac870f4f85225104dc7b0||spanid=6a0fcdac380704bb
[INFO][2021-03-12T09:48:32.181][log.go:58] _com_panic||traceid=0a4505dc604ac870f4f85225104dc7b0||cspanid=||spanid=6a0fcdac380704bb||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 58 [running]:\nruntime/debug.Stack(0x1847c60, 0xc0011a5128, 0x192a3e1)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1.1(0xc0002da0b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:21 +0x214\npanic(0x184df60, 0x2752a00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/panic.go:969 +0x175\ngithub.com/e421083458/gin_scaffold/middleware.ResponseError(0xc0002da0b0, 0x7d5, 0x0, 0x0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/response.go:44 +0x17c\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP(0x279ada0, 0xc0002da0b0)\n\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:201 +0x82b\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1(0xc0002da0b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:157 +0x671\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1(0xc0002da0b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18 +0x147\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1(0xc0002da0b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1(0xc0002da0b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33 +0x4e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1b3\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x65\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0001b8000, 0xc0002da0b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5c5\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0001b8000, 0x1a39860, 0xc0000f61c0, 0xc00012af00)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x133\nnet/http.serverHandler.ServeHTTP(0xc0000f6000, 0x1a39860, 0xc0000f61c0, 0xc00012af00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc0004e2780, 0x1a3c120, 0xc000581440)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2969 +0x36c\n
[INFO][2021-03-12T09:49:21.653][log.go:58] _com_request_in||args=map[]||spanid=6a0fcd7d380704bb||method=POST||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"seriveindb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||traceid=0a4505dc604ac8a1fba85251104dc7b0||cspanid=||uri=/service/service_add_http
[INFO][2021-03-12T09:49:21.653][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89||current_time=2021-03-12 09:49:21||cspanid=||spanid=6a0fcd7d380704bb||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'seriveindb')||affected_row=0||traceid=0a4505dc604ac8a1fba85251104dc7b0
[INFO][2021-03-12T09:49:21.653][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_serive_indb')||affected_row=0||traceid=0a4505dc604ac8a1fba85251104dc7b0||spanid=6a0fcd7d380704bb||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||current_time=2021-03-12 09:49:21||cspanid=
[INFO][2021-03-12T09:49:21.653][log.go:58] _com_mysql_success||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','seriveindb','test_serive_indb','2021-03-12 09:49:21','2021-03-12 09:49:21','0')||affected_row=1||proc_time=0.000000000||traceid=0a4505dc604ac8a1fba85251104dc7b0||cspanid=||spanid=6a0fcd7d380704bb||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:97||current_time=2021-03-12 09:49:21
[INFO][2021-03-12T09:49:21.653][log.go:58] _com_request_out||uri=/service/service_add_http||method=POST||response=<nil>||traceid=0a4505dc604ac8a1fba85251104dc7b0||args=map[]||from=127.0.0.1||proc_time=0.286442514||cspanid=||spanid=6a0fcd7d380704bb
[INFO][2021-03-12T09:49:21.653][log.go:58] _com_panic||traceid=0a4505dc604ac8a1fba85251104dc7b0||cspanid=||spanid=6a0fcd7d380704bb||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 31 [running]:\nruntime/debug.Stack(0x1847ca0, 0xc001185120, 0x192a421)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1.1(0xc0008360b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:21 +0x214\npanic(0x184dfa0, 0x2752a00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/panic.go:969 +0x175\ngithub.com/e421083458/gin_scaffold/middleware.ResponseError(0xc0008360b0, 0x7d5, 0x0, 0x0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/response.go:44 +0x17c\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP(0x279ada0, 0xc0008360b0)\n\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:200 +0x858\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1(0xc0008360b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:157 +0x671\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1(0xc0008360b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18 +0x147\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1(0xc0008360b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1(0xc0008360b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33 +0x4e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1b3\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x65\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000128000, 0xc0008360b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5c5\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000128000, 0x1a398c0, 0xc0000b80e0, 0xc000312f00)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x133\nnet/http.serverHandler.ServeHTTP(0xc00033e0e0, 0x1a398c0, 0xc0000b80e0, 0xc000312f00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc00011a820, 0x1a3c180, 0xc0003a07c0)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2969 +0x36c\n
[INFO][2021-03-12T09:49:52.499][log.go:58] _com_request_in||traceid=0a4505dc604ac8c00d785273104dc7b0||cspanid=||spanid=6a0fcd1c380704bb||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"seriveindb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||uri=/service/service_add_http||method=POST
[INFO][2021-03-12T09:49:52.499][log.go:58] _com_mysql_success||level=sql||affected_row=0||traceid=0a4505dc604ac8c00d785273104dc7b0||cspanid=||spanid=6a0fcd1c380704bb||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89||current_time=2021-03-12 09:49:52||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'seriveindb')
[INFO][2021-03-12T09:49:52.499][log.go:58] _com_mysql_success||traceid=0a4505dc604ac8c00d785273104dc7b0||cspanid=||spanid=6a0fcd1c380704bb||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_serive_indb')||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||current_time=2021-03-12 09:49:52||affected_row=0
[INFO][2021-03-12T09:49:52.499][log.go:58] _com_mysql_success||traceid=0a4505dc604ac8c00d785273104dc7b0||cspanid=||spanid=6a0fcd1c380704bb||current_time=2021-03-12 09:49:52||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','seriveindb','test_serive_indb','2021-03-12 09:49:52','2021-03-12 09:49:52','0')||affected_row=1||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:97||proc_time=0.000000000
[INFO][2021-03-12T09:49:52.499][log.go:58] _com_request_out||response=<nil>||proc_time=0.282537623||traceid=0a4505dc604ac8c00d785273104dc7b0||cspanid=||uri=/service/service_add_http||args=map[]||spanid=6a0fcd1c380704bb||method=POST||from=127.0.0.1
[INFO][2021-03-12T09:49:52.499][log.go:58] _com_panic||cspanid=||spanid=6a0fcd1c380704bb||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 50 [running]:\nruntime/debug.Stack(0x1847cc0, 0xc001125110, 0x192a441)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1.1(0xc0002700b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:21 +0x214\npanic(0x184dfc0, 0x2752a00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/panic.go:969 +0x175\ngithub.com/e421083458/gin_scaffold/middleware.ResponseError(0xc0002700b0, 0x7d5, 0x0, 0x0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/response.go:44 +0x17c\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP(0x279ada0, 0xc0002700b0)\n\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:200 +0x886\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1(0xc0002700b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:157 +0x671\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1(0xc0002700b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18 +0x147\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1(0xc0002700b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1(0xc0002700b0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33 +0x4e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1b3\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x65\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000128000, 0xc0002700b0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5c5\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000128000, 0x1a398e0, 0xc0000be1c0, 0xc0000a0f00)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x133\nnet/http.serverHandler.ServeHTTP(0xc0000be000, 0x1a398e0, 0xc0000be1c0, 0xc0000a0f00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc00047ca00, 0x1a3c1a0, 0xc0006b4900)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2969 +0x36c\n||traceid=0a4505dc604ac8c00d785273104dc7b0
[INFO][2021-03-12T09:51:13.544][log.go:58] _com_request_in||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"seriveindb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||traceid=0a4505dc604ac9118a7052a3104dc7b0||spanid=6a0fcccd380704bb||uri=/service/service_add_http||method=POST||args=map[]||cspanid=
[INFO][2021-03-12T09:51:13.544][log.go:58] _com_mysql_success||proc_time=0.000000000||affected_row=0||spanid=6a0fcccd380704bb||traceid=0a4505dc604ac9118a7052a3104dc7b0||cspanid=||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89||current_time=2021-03-12 09:51:13||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'seriveindb')
[INFO][2021-03-12T09:51:13.544][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_serive_indb')||cspanid=||proc_time=0.000000000||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||current_time=2021-03-12 09:51:13||affected_row=0||traceid=0a4505dc604ac9118a7052a3104dc7b0||spanid=6a0fcccd380704bb||level=sql
[INFO][2021-03-12T09:51:13.544][log.go:58] _com_mysql_success||level=sql||proc_time=0.000000000||spanid=6a0fcccd380704bb||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:97||current_time=2021-03-12 09:51:13||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','seriveindb','test_serive_indb','2021-03-12 09:51:13','2021-03-12 09:51:13','0')||affected_row=1||traceid=0a4505dc604ac9118a7052a3104dc7b0||cspanid=
[INFO][2021-03-12T09:51:13.544][log.go:58] _com_request_out||from=127.0.0.1||proc_time=0.324476715||traceid=0a4505dc604ac9118a7052a3104dc7b0||uri=/service/service_add_http||method=POST||args=map[]||response=<nil>||cspanid=||spanid=6a0fcccd380704bb
[INFO][2021-03-12T09:51:13.544][log.go:58] _com_panic||traceid=0a4505dc604ac9118a7052a3104dc7b0||cspanid=||spanid=6a0fcccd380704bb||error=runtime error: invalid memory address or nil pointer dereference||stack=goroutine 47 [running]:\nruntime/debug.Stack(0x1847d60, 0xc00110d0f8, 0x192a4e1)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1.1(0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:21 +0x214\npanic(0x184e060, 0x2752a00)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/runtime/panic.go:969 +0x175\ngithub.com/e421083458/gin_scaffold/middleware.ResponseError(0xc0001e82c0, 0x7d5, 0x0, 0x0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/response.go:44 +0x17c\ngithub.com/e421083458/gin_scaffold/controller.(*ServiceController).ServiceAddHTTP(0x279ada0, 0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/controller/service.go:202 +0x92d\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.TranslationMiddleware.func1(0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/translation.go:157 +0x671\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.SessionAuthMiddleware.func1(0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/session_auth.go:18 +0x147\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RequestLog.func1(0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/request_log.go:59 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/e421083458/gin_scaffold/middleware.RecoveryMiddleware.func1(0xc0001e82c0)\n\t/Users/coderth/go/src/go_mirco_gateway/middleware/recovery.go:33 +0x4e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1b3\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x65\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000128000, 0xc0001e82c0)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5c5\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000128000, 0x1a399e0, 0xc0000da1c0, 0xc0001cc200)\n\t/Users/coderth/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x133\nnet/http.serverHandler.ServeHTTP(0xc0003d0000, 0x1a399e0, 0xc0000da1c0, 0xc0001cc200)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc00044cb40, 0x1a3c2a0, 0xc00002e4c0)\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/local/Cellar/go/1.15.2/libexec/src/net/http/server.go:2969 +0x36c\n
[INFO][2021-03-12T09:52:23.090][log.go:58] _com_request_in||traceid=0a4505dc604ac9577c9052d8104dc7b0||cspanid=||uri=/service/service_add_http||method=POST||from=127.0.0.1||spanid=6a0fcc8b380704bb||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"seriveindb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}
[INFO][2021-03-12T09:52:23.090][log.go:58] _com_mysql_success||proc_time=0.000000000||spanid=6a0fcc8b380704bb||current_time=2021-03-12 09:52:23||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'seriveindb')||affected_row=0||traceid=0a4505dc604ac9577c9052d8104dc7b0||cspanid=||level=sql
[INFO][2021-03-12T09:52:23.090][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_serive_indb')||spanid=6a0fcc8b380704bb||affected_row=0||traceid=0a4505dc604ac9577c9052d8104dc7b0||cspanid=||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||current_time=2021-03-12 09:52:23||proc_time=0.000000000
[INFO][2021-03-12T09:52:23.090][log.go:58] _com_mysql_success||traceid=0a4505dc604ac9577c9052d8104dc7b0||cspanid=||spanid=6a0fcc8b380704bb||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:97||affected_row=1||current_time=2021-03-12 09:52:23||proc_time=0.000000000||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','seriveindb','test_serive_indb','2021-03-12 09:52:23','2021-03-12 09:52:23','0')
[INFO][2021-03-12T09:52:23.090][log.go:58] _com_mysql_success||sql=INSERT INTO `gateway_service_http_rule` (`service_id`,`rule_type`,`rule`,`need_https`,`need_websocket`,`need_strip_uri`,`url_rewrite`,`header_transfor`) VALUES ('71','0','/test_serive_indb','0','0','0','','')||affected_row=1||traceid=0a4505dc604ac9577c9052d8104dc7b0||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:32||proc_time=0.000000000||cspanid=||spanid=6a0fcc8b380704bb||level=sql||current_time=2021-03-12 09:52:23
[INFO][2021-03-12T09:52:23.090][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:31||current_time=2021-03-12 09:52:23||proc_time=0.000000000||traceid=0a4505dc604ac9577c9052d8104dc7b0||level=sql||sql=INSERT INTO `gateway_service_access_control` (`service_id`,`open_auth`,`black_list`,`white_list`,`white_host_name`,`clientip_flow_limit`,`service_flow_limit`) VALUES ('71','0','','string','','0','0')||affected_row=1||cspanid=||spanid=6a0fcc8b380704bb
[INFO][2021-03-12T09:52:23.090][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:39||current_time=2021-03-12 09:52:23||affected_row=1||traceid=0a4505dc604ac9577c9052d8104dc7b0||cspanid=||spanid=6a0fcc8b380704bb||level=sql||proc_time=0.000000000||sql=INSERT INTO `gateway_service_load_balance` (`service_id`,`check_method`,`check_timeout`,`check_interval`,`round_type`,`ip_list`,`weight_list`,`forbid_list`,`upstream_connect_timeout`,`upstream_header_timeout`,`upstream_idle_timeout`,`upstream_max_idle`) VALUES ('71','0','0','0','0','127.0.0.1:80','string','','0','0','0','0')
[INFO][2021-03-12T09:52:23.090][log.go:58] _com_request_out||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"0a4505dc604ac9577c9052d8104dc7b0\",\"stack\":null}||proc_time=0.494093205||traceid=0a4505dc604ac9577c9052d8104dc7b0||cspanid=||uri=/service/service_add_http||method=POST||args=map[]||from=127.0.0.1||spanid=6a0fcc8b380704bb
[INFO][2021-03-12T09:52:30.515][log.go:58] _com_request_in||traceid=0a4505dc604ac95e4de852d83a768bb0||cspanid=||spanid=6a0fcc8225845c95||uri=/service/service_add_http||method=POST||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_serive_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_serive_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"seriveindb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1
[INFO][2021-03-12T09:52:30.515][log.go:58] _com_mysql_success||proc_time=0.000000000||cspanid=||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:89||current_time=2021-03-12 09:52:30||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'seriveindb')||affected_row=1||traceid=0a4505dc604ac95e4de852d83a768bb0||spanid=6a0fcc8225845c95||level=sql
[INFO][2021-03-12T09:52:30.515][log.go:58] _com_request_out||method=POST||args=map[]||from=127.0.0.1||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"0a4505dc604ac95e4de852d83a768bb0\",\"stack\":\"服务已存在\"}||traceid=0a4505dc604ac95e4de852d83a768bb0||uri=/service/service_add_http||proc_time=0.141876247||cspanid=||spanid=6a0fcc8225845c95
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_request_in||uri=/service/service_list?page_size=12&page_no=1||method=GET||traceid=0a4505dc604ac983282052d802070fb0||cspanid=||spanid=6a0fcc5f2e3108da||args=map[]||body=||from=127.0.0.1
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_mysql_success||level=sql||affected_row=6||cspanid=||spanid=6a0fcc5f2e3108da||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:38||current_time=2021-03-12 09:53:07||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 12 OFFSET 0||traceid=0a4505dc604ac983282052d802070fb0
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 12 OFFSET 0||affected_row=6||cspanid=||spanid=6a0fcc5f2e3108da||level=sql||proc_time=0.000000000||traceid=0a4505dc604ac983282052d802070fb0||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:41||current_time=2021-03-12 09:53:07
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_mysql_success||sql=SELECT count(*) FROM `gateway_service_info`  WHERE (is_delete=0) LIMIT 12 OFFSET 0||traceid=0a4505dc604ac983282052d802070fb0||cspanid=||spanid=6a0fcc5f2e3108da||level=sql||current_time=2021-03-12 09:53:07||proc_time=0.000000000||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_info.go:41||affected_row=0
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_mysql_success||traceid=0a4505dc604ac983282052d802070fb0||cspanid=||spanid=6a0fcc5f2e3108da||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||current_time=2021-03-12 09:53:07||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '71')||affected_row=1
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '71')||traceid=0a4505dc604ac983282052d802070fb0||current_time=2021-03-12 09:53:07||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_tcp_rule.go:21||proc_time=0.000000000||affected_row=0||cspanid=||spanid=6a0fcc5f2e3108da||level=sql
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_mysql_success||cspanid=||spanid=6a0fcc5f2e3108da||level=sql||current_time=2021-03-12 09:53:07||proc_time=0.000000000||affected_row=0||traceid=0a4505dc604ac983282052d802070fb0||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_grpc_rule.go:22||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '71')
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '71')||traceid=0a4505dc604ac983282052d802070fb0||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:26||current_time=2021-03-12 09:53:07||affected_row=1||cspanid=||spanid=6a0fcc5f2e3108da||level=sql
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_mysql_success||level=sql||current_time=2021-03-12 09:53:07||proc_time=0.000000000||affected_row=1||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:34||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '71')||cspanid=
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||proc_time=0.000000000||spanid=6a0fcc5f2e3108da||current_time=2021-03-12 09:53:07||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '60')||affected_row=1||traceid=0a4505dc604ac983282052d802070fb0||cspanid=
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_mysql_success||affected_row=0||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da||level=sql||current_time=2021-03-12 09:53:07||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '60')||cspanid=||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_tcp_rule.go:21||proc_time=0.000000000
[INFO][2021-03-12T09:53:07.271][log.go:58] _com_mysql_success||cspanid=||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_grpc_rule.go:22||current_time=2021-03-12 09:53:07||proc_time=0.000000000||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da||level=sql||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '60')||affected_row=0
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:26||current_time=2021-03-12 09:53:08||affected_row=1||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da||level=sql||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '60')||cspanid=||proc_time=0.000000000
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:34||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '60')||affected_row=1||cspanid=||spanid=6a0fcc5f2e3108da||level=sql||proc_time=0.000000000||traceid=0a4505dc604ac983282052d802070fb0||current_time=2021-03-12 09:53:08
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '59')||cspanid=||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||current_time=2021-03-12 09:53:08||proc_time=0.000000000||spanid=6a0fcc5f2e3108da||level=sql||affected_row=1||traceid=0a4505dc604ac983282052d802070fb0
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||proc_time=0.000000000||traceid=0a4505dc604ac983282052d802070fb0||cspanid=||spanid=6a0fcc5f2e3108da||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_tcp_rule.go:21||current_time=2021-03-12 09:53:08||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '59')||affected_row=0
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_grpc_rule.go:22||traceid=0a4505dc604ac983282052d802070fb0||cspanid=||affected_row=0||spanid=6a0fcc5f2e3108da||level=sql||current_time=2021-03-12 09:53:08||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '59')
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '59')||cspanid=||spanid=6a0fcc5f2e3108da||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:26||current_time=2021-03-12 09:53:08||affected_row=1||traceid=0a4505dc604ac983282052d802070fb0||level=sql
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||traceid=0a4505dc604ac983282052d802070fb0||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:34||affected_row=1||spanid=6a0fcc5f2e3108da||current_time=2021-03-12 09:53:08||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '59')||cspanid=
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||current_time=2021-03-12 09:53:08||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '58')||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da||proc_time=0.000000000||affected_row=0||cspanid=
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||current_time=2021-03-12 09:53:08||proc_time=0.000000000||affected_row=0||spanid=6a0fcc5f2e3108da||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_tcp_rule.go:21||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '58')||traceid=0a4505dc604ac983282052d802070fb0||cspanid=
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||spanid=6a0fcc5f2e3108da||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_grpc_rule.go:22||current_time=2021-03-12 09:53:08||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '58')||traceid=0a4505dc604ac983282052d802070fb0||affected_row=1||cspanid=
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '58')||affected_row=1||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da||current_time=2021-03-12 09:53:08||proc_time=0.000000000||cspanid=||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:26
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||level=sql||current_time=2021-03-12 09:53:08||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '58')||cspanid=||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:34||proc_time=0.000000000||affected_row=1||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||traceid=0a4505dc604ac983282052d802070fb0||cspanid=||current_time=2021-03-12 09:53:08||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '57')||affected_row=0||spanid=6a0fcc5f2e3108da||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||proc_time=0.000000000
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||traceid=0a4505dc604ac983282052d802070fb0||cspanid=||spanid=6a0fcc5f2e3108da||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '57')||current_time=2021-03-12 09:53:08||affected_row=1||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_tcp_rule.go:21
[INFO][2021-03-12T09:53:08.010][log.go:58] _com_mysql_success||affected_row=0||cspanid=||spanid=6a0fcc5f2e3108da||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_grpc_rule.go:22||current_time=2021-03-12 09:53:08||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '57')||traceid=0a4505dc604ac983282052d802070fb0
[INFO][2021-03-12T09:53:09.065][log.go:58] _com_mysql_success||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:26||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '57')||affected_row=1||cspanid=||level=sql||current_time=2021-03-12 09:53:09
[INFO][2021-03-12T09:53:09.065][log.go:58] _com_mysql_success||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:34||current_time=2021-03-12 09:53:09||proc_time=0.000000000||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '57')||affected_row=1||cspanid=
[INFO][2021-03-12T09:53:09.065][log.go:58] _com_mysql_success||current_time=2021-03-12 09:53:09||proc_time=0.000000000||affected_row=1||cspanid=||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_http_rule.go:27||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '56')||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da
[INFO][2021-03-12T09:53:09.065][log.go:58] _com_mysql_success||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_tcp_rule.go:21||current_time=2021-03-12 09:53:09||proc_time=0.000000000||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da||level=sql||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '56')||affected_row=0||cspanid=
[INFO][2021-03-12T09:53:09.065][log.go:58] _com_mysql_success||current_time=2021-03-12 09:53:09||proc_time=0.000000000||cspanid=||spanid=6a0fcc5f2e3108da||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_grpc_rule.go:22||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '56')||affected_row=0||traceid=0a4505dc604ac983282052d802070fb0
[INFO][2021-03-12T09:53:09.065][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '56')||cspanid=||level=sql||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_access_control.go:26||current_time=2021-03-12 09:53:09||proc_time=0.000000000||affected_row=1||traceid=0a4505dc604ac983282052d802070fb0||spanid=6a0fcc5f2e3108da
[INFO][2021-03-12T09:53:09.065][log.go:58] _com_mysql_success||affected_row=1||level=sql||current_time=2021-03-12 09:53:09||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '56')||source=/Users/coderth/go/src/go_mirco_gateway/dao/service_load_balance.go:34||traceid=0a4505dc604ac983282052d802070fb0||cspanid=||spanid=6a0fcc5f2e3108da
[INFO][2021-03-12T09:53:09.065][log.go:58] _com_request_out||args=map[]||proc_time=2.216681089||spanid=6a0fcc5f2e3108da||cspanid=||uri=/service/service_list?page_size=12&page_no=1||method=GET||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":6,\"list\":[{\"id\":71,\"service_name\":\"seriveindb\",\"service_desc\":\"test_serive_indb\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_serive_indb\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":60,\"service_name\":\"test_strip_uri\",\"service_desc\":\"测试路径接入\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_strip_uri\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"127.0.0.1:4880/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2}]},\"trace_id\":\"0a4505dc604ac983282052d802070fb0\",\"stack\":null}||traceid=0a4505dc604ac983282052d802070fb0
